{"version":3,"sources":["./src/app/pages/yanglao/yanglao.component.html","./src/app/pages/yanglao/yanglao-routing.module.ts","./src/app/pages/yanglao/yanglao.component.css","./src/app/pages/yanglao/yanglao.component.ts","./src/app/pages/yanglao/yanglao.module.ts"],"names":[],"mappings":"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","file":"pages-yanglao-yanglao-module-es2015.js","sourcesContent":["export default \"<nz-table\\n  #yanglaoTable\\n  [nzData]=\\\"listOfDisplayData\\\"\\n  nzSize=\\\"small\\\"\\n  [nzPageSize]=\\\"20\\\"\\n>\\n  <thead>\\n    <tr>\\n      <th\\n        nzShowFilter\\n        [nzFilters]=\\\"listOfFilterAddress\\\"\\n        (nzFilterChange)=\\\"filterAddressChange($event)\\\"\\n      >\\n        街道乡镇\\n      </th>\\n      <th nzCustomFilter>\\n        社区村组\\n        <i\\n          nz-th-extra\\n          class=\\\"ant-table-filter-icon\\\"\\n          nz-icon\\n          nz-dropdown\\n          #dropdown=\\\"nzDropdown\\\"\\n          nzType=\\\"search\\\"\\n          [nzDropdownMenu]=\\\"menu\\\"\\n          [class.ant-table-filter-open]=\\\"dropdown.nzVisible\\\"\\n          nzTrigger=\\\"click\\\"\\n          nzPlacement=\\\"bottomRight\\\"\\n          [nzClickHide]=\\\"false\\\"\\n          nzTableFilter\\n        ></i>\\n      </th>\\n      <th>参保人数</th>\\n      <th>已交人数</th>\\n      <th>养老进度</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let data of yanglaoTable.data\\\">\\n      <td>{{ data['街道乡镇'] }}</td>\\n      <td>{{ data['社区村组'] }}</td>\\n      <td>{{ data['参保人数'] }}</td>\\n      <td>{{ data['已交人数'] }}</td>\\n      <td>{{ data['养老进度'] }}</td>\\n    </tr>\\n  </tbody>\\n</nz-table>\\n<nz-dropdown-menu #menu=\\\"nzDropdownMenu\\\">\\n  <div class=\\\"search-box\\\">\\n    <input\\n      type=\\\"text\\\"\\n      nz-input\\n      placeholder=\\\"搜索社区村组\\\"\\n      [(ngModel)]=\\\"searchValue\\\"\\n    />\\n    <button\\n      nz-button\\n      nzSize=\\\"small\\\"\\n      nzType=\\\"primary\\\"\\n      (click)=\\\"search()\\\"\\n      class=\\\"search-button\\\"\\n    >\\n      搜索\\n    </button>\\n    <button nz-button nzSize=\\\"small\\\" (click)=\\\"reset()\\\">重置</button>\\n  </div>\\n</nz-dropdown-menu>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { YanglaoComponent } from './yanglao.component';\n\nconst routes: Routes = [{ path: '', component: YanglaoComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class YanglaoRoutingModule {}\n","export default \".search-box {\\n  padding: 8px;\\n}\\n\\n.search-box input {\\n  width: 188px;\\n  margin-bottom: 8px;\\n  display: block;\\n}\\n\\n.search-box button {\\n  width: 90px;\\n}\\n\\n.search-button {\\n  margin-right: 8px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMveWFuZ2xhby95YW5nbGFvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy95YW5nbGFvL3lhbmdsYW8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zZWFyY2gtYm94IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4uc2VhcmNoLWJveCBpbnB1dCB7XG4gIHdpZHRoOiAxODhweDtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLnNlYXJjaC1ib3ggYnV0dG9uIHtcbiAgd2lkdGg6IDkwcHg7XG59XG5cbi5zZWFyY2gtYnV0dG9uIHtcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XG59XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport * as Papa from 'papaparse';\n\n@Component({\n  selector: 'app-yanglao',\n  templateUrl: './yanglao.component.html',\n  styleUrls: ['./yanglao.component.css'],\n})\nexport class YanglaoComponent implements OnInit {\n  searchValue = '';\n  sortName: string | null = null;\n  sortValue: string | null = null;\n  listOfFilterAddress = [];\n  listOfSearchAddress: string[] = [];\n\n  listOfData = [];\n  listOfDisplayData = [...this.listOfData];\n\n  reset() {\n    this.searchValue = '';\n    this.search();\n  }\n\n  sort(sortName: string, value: string) {\n    this.sortName = sortName;\n    this.sortValue = value;\n    this.search();\n  }\n\n  filterAddressChange(value: string[]) {\n    this.listOfSearchAddress = value;\n    this.search();\n  }\n\n  search() {\n    console.log('search');\n\n    const filterFunc = item => {\n      return (\n        (this.listOfSearchAddress.length\n          ? this.listOfSearchAddress.some(\n              address => item.街道乡镇.indexOf(address) !== -1,\n            )\n          : true) && item.社区村组.indexOf(this.searchValue) !== -1\n      );\n    };\n\n    const data = this.listOfData.filter(item => filterFunc(item));\n\n    this.listOfDisplayData = data;\n\n    // this.listOfDisplayData = data.sort((a, b) =>\n    //   this.sortValue === 'ascend'\n    //     ? a[this.sortName!] > b[this.sortName!]\n    //       ? 1\n    //       : -1\n    //     : b[this.sortName!] > a[this.sortName!]\n    //     ? 1\n    //     : -1,\n    // );\n  }\n\n  constructor() {}\n\n  ngOnInit() {\n    Papa.parse('https://tax.ninghao.org/sites/default/files/data/yanglao.csv', {\n      download: true,\n      header: true,\n      skipEmptyLines: true,\n      complete: (result, file) => {\n        console.log(result);\n        // 设置表格数据\n        this.listOfData = result.data;\n\n        // 街道选项列表\n        const streets = result.data.map(item => item.街道乡镇);\n\n        this.listOfFilterAddress = [...new Set(streets)].map(item => {\n          return {\n            text: item,\n            value: item,\n          };\n        });\n        this.listOfDisplayData = [...this.listOfData];\n      },\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { YanglaoComponent } from './yanglao.component';\nimport { YanglaoRoutingModule } from './yanglao-routing.module';\nimport {\n  NzTableModule,\n  NzDividerModule,\n  NzDropDownModule,\n  NzInputModule,\n  NZ_ICONS,\n  NzButtonModule,\n  NzIconModule,\n} from 'ng-zorro-antd';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [YanglaoComponent],\n  imports: [\n    CommonModule,\n    YanglaoRoutingModule,\n    NzTableModule,\n    NzDividerModule,\n    NzDropDownModule,\n    NzInputModule,\n    NzButtonModule,\n    NzIconModule,\n    FormsModule,\n  ],\n})\nexport class YanglaoModule {}\n"],"sourceRoot":"webpack:///"}